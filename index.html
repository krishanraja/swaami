<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    
    <!-- Primary Meta Tags -->
    <title>Swaami: Help a neighbour for free</title>
    <meta name="title" content="Swaami: Help a neighbour for free" />
    <meta name="description" content="Quick favours. Trusted faces. Walking distance. Swaami connects you with verified neighbours who can help right now. Join your neighbourhood today." />
    <meta name="author" content="Swaami" />
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
    <meta name="keywords" content="neighbour help, community volunteering, local assistance, verified neighbours, quick favours, neighbourhood app, trusted community, hyperlocal help" />
    <link rel="canonical" href="https://swaami.app/" />

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/favicon.png" />
    <link rel="apple-touch-icon" href="/favicon.png" />

    <!-- Content Security Policy - temporarily relaxed for debugging -->
    <!-- TODO: Re-enable stricter CSP after confirming the app works -->
    <!--
    <meta http-equiv="Content-Security-Policy" content="
      default-src 'self';
      script-src 'self' 'unsafe-inline' 'unsafe-eval';
      style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
      font-src 'self' https://fonts.gstatic.com;
      img-src 'self' data: blob: https://*.supabase.co;
      media-src 'self' blob: https://*.supabase.co;
      connect-src 'self' https://*.supabase.co wss://*.supabase.co https://api.twilio.com;
      frame-ancestors 'none';
      base-uri 'self';
      form-action 'self';
    " />
    -->
    
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="dns-prefetch" href="https://fonts.googleapis.com" />
    
    <!-- Preload critical landing page assets for instant display -->
    <link rel="preload" href="/videos/swaami-poster.jpg" as="image" fetchpriority="high" />
    <link rel="preload" href="/images/swaami-wordmark.png" as="image" fetchpriority="high" />
    <!-- Note: video preload removed as browsers don't support as="video" in link preload -->
    
    <!-- Inline critical splash screen styles for instant render -->
    <style>
      /* Immediate splash placeholder before React hydrates */
      #splash-placeholder {
        position: fixed;
        inset: 0;
        z-index: 100;
        display: flex;
        align-items: center;
        justify-content: center;
        background: white;
        transition: opacity 0.3s ease-out;
      }
      #splash-placeholder.hidden {
        opacity: 0;
        pointer-events: none;
      }
      #splash-placeholder .pulse-dot {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        background: linear-gradient(135deg, #f5e6a3 0%, #d4a853 100%);
        animation: pulse 1.5s ease-in-out infinite;
      }
      @keyframes pulse {
        0%, 100% { transform: scale(0.95); opacity: 0.7; }
        50% { transform: scale(1.05); opacity: 1; }
      }
      /* Hide once React takes over */
      .react-loaded #splash-placeholder {
        display: none;
      }
    </style>
    
    <!-- Fonts with display swap for performance -->
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://swaami.app/" />
    <meta property="og:title" content="Swaami: Help a neighbour for free" />
    <meta property="og:description" content="Quick favours. Trusted faces. Walking distance. Join your neighbourhood and help or get help from verified neighbours." />
    <meta property="og:image" content="https://swaami.app/og-image.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:site_name" content="Swaami" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://swaami.app/" />
    <meta name="twitter:title" content="Swaami: Help a neighbour for free" />
    <meta name="twitter:description" content="Quick favours. Trusted faces. Walking distance. Join your neighbourhood today." />
    <meta name="twitter:image" content="https://swaami.app/og-image.png" />
    <meta name="twitter:site" content="@swaami" />
    <meta name="twitter:creator" content="@swaami" />

    <!-- PWA & Mobile -->
    <meta name="theme-color" content="#fdf6b6" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="Swaami" />
    <meta name="application-name" content="Swaami" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="format-detection" content="telephone=no" />

    <!-- Structured Data / JSON-LD -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Swaami",
        "alternateName": "Swaami: Volunteer",
        "url": "https://swaami.app",
        "description": "Get help from verified neighbours in minutes. Quick favours, trusted faces, walking distance.",
        "applicationCategory": "SocialNetworkingApplication",
        "operatingSystem": "Web",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        },
        "aggregateRating": {
          "@type": "AggregateRating",
          "ratingValue": "4.9",
          "ratingCount": "1200"
        },
        "author": {
          "@type": "Organization",
          "name": "Swaami",
          "url": "https://swaami.app"
        }
      }
    </script>
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "Swaami",
        "url": "https://swaami.app",
        "logo": "https://swaami.app/favicon.png",
        "sameAs": [
          "https://twitter.com/swaami"
        ],
        "description": "Connecting verified neighbours for quick, trusted help within walking distance."
      }
    </script>
  </head>

  <body>
    <!-- Instant splash placeholder (no JS required) -->
    <div id="splash-placeholder" aria-hidden="true">
      <div class="pulse-dot"></div>
    </div>
    
    <div id="root"></div>
    
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- Hide placeholder once React app loads -->
    <script>
      // Remove placeholder after a short delay to ensure React has rendered
      window.addEventListener('load', function() {
        setTimeout(function() {
          var placeholder = document.getElementById('splash-placeholder');
          if (placeholder) {
            placeholder.classList.add('hidden');
            setTimeout(function() {
              placeholder.remove();
            }, 300);
          }
        }, 100);
      });
    </script>
  </body>
</html>
